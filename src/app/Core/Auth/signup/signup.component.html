<div class="min-h-screen bg-gradient-to-b from-blue-50 to-indigo-100 flex items-center justify-center p-4">
    <div class="w-full max-w-5xl bg-white rounded-xl shadow-2xl overflow-hidden">
      <div class="bg-gradient-to-r from-emerald-600 to-teal-700 p-8 text-center">
        <h1 class="text-4xl font-bold text-white">Create Your Account</h1>
        <p class="text-emerald-100 mt-2">Join our platform today</p>
      </div>
  
      <form [formGroup]="form" (ngSubmit)="submitForm()" class="p-8 grid gap-6 grid-cols-1 md:grid-cols-2">
        <!-- Personal Information -->
        <div class="md:col-span-2">
          <h2 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Personal Information</h2>
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">First Name *</label>
          <input pInputText formControlName="firstName" class="w-full" placeholder="John" />
          @if (form.get('firstName')?.invalid && form.get('firstName')?.touched) {
            <small class="text-black block mt-1">Valid first name is required</small>
          }
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Last Name *</label>
          <input pInputText formControlName="lastName" class="w-full" placeholder="Doe" />
          @if (form.get('lastName')?.invalid && form.get('lastName')?.touched) {
            <small class="text-black block mt-1">Valid last name is required</small>
          }
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Email *</label>
          <input pInputText formControlName="email" class="w-full" placeholder="you@example.com" />
          @if (form.get('email')?.invalid && form.get('email')?.touched) {
            <small class="text-black block mt-1">Valid email is required</small>
          }
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">National ID *</label>
          <input pInputText formControlName="nationalId" class="w-full" placeholder="12345678901234" />
          @if (form.get('nationalId')?.invalid && form.get('nationalId')?.touched) {
            <small class="text-black block mt-1">14-digit national ID is required</small>
          }
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Phone *</label>
          <input pInputText formControlName="phone" class="w-full" placeholder="01xxxxxxxxx" />
          @if (form.get('phone')?.invalid && form.get('phone')?.touched) {
            <small class="text-black block mt-1">Valid Egyptian phone number is required</small>
          }
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Date of Birth</label>
          <p-datePicker 
            formControlName="dateOfBirth" 
            [showIcon]="true" 
            inputId="birthdate" 
            class="w-full"
            dateFormat="dd/mm/yy"
            [showButtonBar]="true"
            placeholder="Select date">
          </p-datePicker>
        </div>
        
  
        <!-- Account Information -->
        <div class="md:col-span-2 mt-4">
          <h2 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Account Information</h2>
        </div>

        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Role *</label>
          <p-selectButton formControlName="role" [options]="roles" optionLabel="label" optionValue="value" class="w-full"></p-selectButton>
          @if (form.get('role')?.invalid && form.get('role')?.touched) {
            <small class="text-black block mt-1">Please select a role</small>
          }
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Profile Image</label>
          <p-fileUpload 
            mode="basic" 
            name="profileImage" 
            accept="image/*"
            (onSelect)="onImageUpload($event)"
            chooseLabel="Choose Image"
            class="w-full">
          </p-fileUpload>
          @if (profileImagePreview) {
            <img [src]="profileImagePreview" class="mt-3 w-24 h-24 rounded-full border-2 border-gray-200 object-cover" />
          }
        </div>
  
        <!-- Address Information -->
        <div class="md:col-span-2 mt-4">
          <h2 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Address Information</h2>
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Street</label>
          <input pInputText formControlName="street" class="w-full" placeholder="123 Main St" />
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">City</label>
          <input pInputText formControlName="city" class="w-full" placeholder="Cairo" />
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">State</label>
          <input pInputText formControlName="state" class="w-full" placeholder="Cairo" />
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Country</label>
          <input pInputText formControlName="country" class="w-full" placeholder="Egypt" />
        </div>
  
        <!-- Security Information -->
        <div class="md:col-span-2 mt-4">
          <h2 class="text-xl font-semibold text-gray-700 border-b pb-2 mb-4">Security Information</h2>
        </div>
  
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Password *</label>
          <p-password formControlName="password" [toggleMask]="true" [feedback]="true" class="w-full" 
                     placeholder="••••••••" inputStyleClass="w-full"></p-password>
          @if (form.get('password')?.invalid && form.get('password')?.touched) {
            <small class="text-black block mt-1">Minimum 8 chars with uppercase, lowercase and number</small>
          }
        </div>
        
        <div>
          <label class="block text-sm font-medium text-gray-700 mb-1">Confirm Password *</label>
          <p-password formControlName="confirmPassword" [toggleMask]="true" class="w-full" 
                     placeholder="••••••••" inputStyleClass="w-full"></p-password>
          @if (form.get('confirmPassword')?.invalid && form.get('confirmPassword')?.touched) {
            <small class="text-black block mt-1">Passwords must match</small>
          }
        </div>
  
        <!-- Terms and Submit -->
        <div class="md:col-span-2 flex items-start space-x-3 mt-4">
          <p-checkbox formControlName="agreeTerms" [binary]="true" inputId="agreeTerms"></p-checkbox>
          <label for="agreeTerms" class="text-sm text-gray-700">
            I agree to the <a routerLink="/terms-and-conditions" class="text-teal-600 hover:underline font-medium">Terms and Conditions</a> *
          </label>
        </div>
        @if (form.get('agreeTerms')?.invalid && form.get('agreeTerms')?.touched) {
          <small class="text-black block md:col-span-2 -mt-3">You must accept the terms</small>
        }
  
        <div class="md:col-span-2 mt-2">
          <button pButton type="submit" label="Create Account" icon="pi pi-user-plus" 
                  class="w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700"></button>
        </div>
  
        <div class="md:col-span-2 text-center text-sm text-gray-600 mt-4">
          Already have an account? 
          <a routerLink="/login" class="text-teal-600 hover:underline font-medium">Sign In</a>
        </div>
      </form>
    </div>
  </div>